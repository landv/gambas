' Gambas class file

Export

Property Read Id As String
Property Read Date As Date
Property Read Message As String
Property Read Summary As String
Property Read Body As String
Property Read _Handle As Pointer

Private $commit As Pointer

Public Sub _new(commit As Pointer)

  $commit = FFIReference.Peel(commit, FFIReference.GIT_OBJ_COMMIT)
  FFIReference.Free(commit)

End

Public Sub _free()
  
  FFICommit.Free($commit)
  
End


Private Function Id_Read() As String

  Return FFIOid.Format(FFICommit.GetId($commit))

End

Private Function _Handle_Read() As Pointer

  Return $commit

End

Private Function Date_Read() As Date

  Return FFICommit.GetTime($commit)

End

Private Function Message_Read() As String

  Return FFICommit.GetMessage($commit)

End

Private Function Summary_Read() As String

  Return FFICommit.GetSummary($commit)

End

Private Function Body_Read() As String

  Return FFICommit.GetBody($commit)

End
